$.bt_validate={method:function(b,a,c){$.bt_validate.fn[b]=a;$.bt_validate.text[b]=c}};$.fn.show_tooltip=function(b,a){$(this).closest(".inputGroup").find("p").text(b).show()};$.fn.show_ok_tooltip=function(a){$(this).show_tooltip(a,"#45b97c")};$.fn.show_err_tooltip=function(a){$(this).show_tooltip(a,"#f05b72")};$.fn.hide_tooltip=function(a){$(a).closest(".inputGroup").find("p").text("").hide()};$.bt_validate.result=true;$.bt_validate.blocked=false;$.bt_validate.block=function(){$.bt_validate.blocked=true};$.bt_validate.unblock=function(){$.bt_validate.blocked=false};$.fn.bt_validate=function(){$.bt_validate.form=$(this);$.bt_validate.form.find("input[validate],select[validate],textarea[validate]").blur(function(){var d=$(this).attr("validate").split("|");var g=true;for(var c in d){var f=d[c].split(",");var k=f[0];f[0]=$.trim($(this).val());var a=$.bt_validate.fn[k];if(typeof(a)=="function"){var e=a.apply($(this),f)}else{var e=a.fn_validate.apply($(this),f)}if(typeof(e)!="string"){if(!e){var h=$.bt_validate.text[k];for(var b=1;b<f.length;b++){h=h.replace("%"+b,f[b])}$(this).show_err_tooltip(h);g=false;$.bt_validate.result=false;if($.bt_validate.after_validate!=null){$.bt_validate.after_validate.call($(this),k,f[0],f.slice(1),false)}break}}else{g=false;if($.bt_validate.after_validate!=null){$.bt_validate.after_validate.call($(this),k,f[0],f.slice(1),false)}}}if(g){if($.bt_validate.after_validate!=null){$.bt_validate.after_validate.call($(this),k,f[0],f.slice(1),true)}$.fn.hide_tooltip($(this))}})};$.bt_validate.validate=function(a){$.bt_validate.result=true;$.bt_validate.form.find("input[validate],select[validate],textarea[validate]").trigger("blur");if($.bt_validate.blocked){return false}return $.bt_validate.result};$.bt_validate.ajax_check=function(b){this.params=b;var a=this;this.fn_validate=function(d){if((a.usercheck_prev_value!=undefined)&&(a.usercheck_prev_value==d)){return""}a.usercheck_prev_value=d;$.bt_validate.block();this.show_tooltip(a.params.msg_checking,"blue");var c=this;setTimeout(function(){$.ajax({url:a.params.url,data:a.params.get_data(),success:function(e){if(a.params.get_success(e)){c.show_err_tooltip(a.params.msg_fail)}else{c.show_ok_tooltip(a.params.msg_ok);$.bt_validate.unblock();setTimeout(function(){c.hide_tooltip()},3000)}},type:a.params.type,dataType:a.params.return_type})},250);return""};return this};