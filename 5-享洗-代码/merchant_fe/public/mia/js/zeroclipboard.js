/*!
 * zeroclipboard
 * The ZeroClipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie, and a JavaScript interface.
 * Copyright 2013 Jon Rohan, James M. Greene, .
 * Released under the MIT license
 * http://zeroclipboard.github.io/ZeroClipboard/
 * v1.2.0-beta.3
 */
(function(){var P=function(){var d=/\-([a-z])/g,c=function(f,e){return e.toUpperCase()};return function(a){return a.replace(d,c)}}(),O=function(a,p){var o,n,m,l,k,j;window.getComputedStyle?o=window.getComputedStyle(a,null).getPropertyValue(p):(n=P(p),a.currentStyle?o=a.currentStyle[n]:o=a.style[n]);if(o==="auto"&&p==="cursor"){m=a.tagName.toLowerCase(),l=["a"];for(k=0,j=l.length;k<j;k++){if(m===l[k]){return"pointer"}}}return o},N=function(d){if(!B.prototype._singleton){return}d||(d=window.event);var c;this!==window?c=this:d.target?c=d.target:d.srcElement&&(c=d.srcElement),B.prototype._singleton.setCurrent(c)},M=function(e,d,f){e.addEventListener?e.addEventListener(d,f,!1):e.attachEvent&&e.attachEvent("on"+d,f)},L=function(e,d,f){e.removeEventListener?e.removeEventListener(d,f,!1):e.detachEvent&&e.detachEvent("on"+d,f)},K=function(i,h){if(i.addClass){return i.addClass(h),i}if(h&&typeof h=="string"){var n=(h||"").split(/\s+/);if(i.nodeType===1){if(!i.className){i.className=h}else{var m=" "+i.className+" ",l=i.className;for(var k=0,j=n.length;k<j;k++){m.indexOf(" "+n[k]+" ")<0&&(l+=" "+n[k])}i.className=l.replace(/^\s+|\s+$/g,"")}}}return i},J=function(h,g){if(h.removeClass){return h.removeClass(g),h}if(g&&typeof g=="string"||g===undefined){var l=(g||"").split(/\s+/);if(h.nodeType===1&&h.className){if(g){var k=(" "+h.className+" ").replace(/[\n\t]/g," ");for(var j=0,i=l.length;j<i;j++){k=k.replace(" "+l[j]+" "," ")}h.className=k.replace(/^\s+|\s+$/g,"")}else{h.className=""}}}return h},I=function(){var f,e,h,g=1;return typeof document.body.getBoundingClientRect=="function"&&(f=document.body.getBoundingClientRect(),e=f.right-f.left,h=document.body.offsetWidth,g=Math.round(e/h*100)/100),g},H=function(r){var q={left:0,top:0,width:0,height:0,zIndex:999999999},p=O(r,"z-index");p&&p!=="auto"&&(q.zIndex=parseInt(p,10));if(r.getBoundingClientRect){var o=r.getBoundingClientRect(),n,m,l;"pageXOffset" in window&&"pageYOffset" in window?(n=window.pageXOffset,m=window.pageYOffset):(l=I(),n=Math.round(document.documentElement.scrollLeft/l),m=Math.round(document.documentElement.scrollTop/l));var h=document.documentElement.clientLeft||0,b=document.documentElement.clientTop||0;q.left=o.left+n-h,q.top=o.top+m-b,q.width="width" in o?o.width:o.right-o.left,q.height="height" in o?o.height:o.bottom-o.top}return q},G=function(d){var c=B.prototype._singleton;return c.options.useNoCache?(d.indexOf("?")>=0?"&nocache=":"?nocache=")+(new Date).getTime():""},F=function(e){var d=[];if(e.trustedDomains){var f;typeof e.trustedDomains=="string"&&e.trustedDomains?f=[e.trustedDomains]:"length" in e.trustedDomains&&(f=e.trustedDomains),d.push("trustedDomain="+encodeURIComponent(f.join(",")))}return typeof e.amdModuleId=="string"&&e.amdModuleId&&d.push("amdModuleId="+encodeURIComponent(e.amdModuleId)),typeof e.cjsModuleId=="string"&&e.cjsModuleId&&d.push("cjsModuleId="+encodeURIComponent(e.cjsModuleId)),d.join("&")},E=function(f,e){if(e.indexOf){return e.indexOf(f)}for(var h=0,g=e.length;h<g;h++){if(e[h]===f){return h}}return -1},D=function(b){if(typeof b=="string"){throw new TypeError("ZeroClipboard doesn't accept query strings.")}return b.length?b:[b]},C=function(g,f,j,i,h){h?window.setTimeout(function(){g.call(f,j,i)},0):g.call(f,j,i)},B=function(f,e){f&&(B.prototype._singleton||this).glue(f);if(B.prototype._singleton){return B.prototype._singleton}B.prototype._singleton=this,this.options={};for(var h in y){this.options[h]=y[h]}for(var g in e){this.options[g]=e[g]}this.handlers={},B.detectFlashSupport()&&v()},A,z=[];B.prototype.setCurrent=function(b){A=b,this.reposition(),b.getAttribute("title")&&this.setTitle(b.getAttribute("title")),this.setHandCursor(O(b,"cursor")==="pointer")},B.prototype.setText=function(b){b&&b!==""&&(this.options.text=b,this.ready()&&this.flashBridge.setText(b))},B.prototype.setTitle=function(b){b&&b!==""&&this.htmlBridge.setAttribute("title",b)},B.prototype.setSize=function(d,c){this.ready()&&this.flashBridge.setSize(d,c)},B.prototype.setHandCursor=function(b){this.ready()&&this.flashBridge.setHandCursor(b)},B.version="1.2.0-beta.3";var y={moviePath:"ZeroClipboard.swf",trustedDomains:null,text:null,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",allowScriptAccess:"sameDomain",useNoCache:!0};B.setDefaults=function(d){for(var c in d){y[c]=d[c]}},B.destroy=function(){B.prototype._singleton.unglue(z);var b=B.prototype._singleton.htmlBridge;b.parentNode.removeChild(b),delete B.prototype._singleton},B.detectFlashSupport=function(){var d=!1;if(typeof ActiveXObject=="function"){try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(d=!0)}catch(c){}}return !d&&navigator.mimeTypes["application/x-shockwave-flash"]&&(d=!0),d};var x=null,w=null,v=function(){var h=B.prototype._singleton,g=document.getElementById("global-zeroclipboard-html-bridge");if(!g){var l={};for(var k in h.options){l[k]=h.options[k]}l.amdModuleId=x,l.cjsModuleId=w;var j=F(l),i='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+h.options.moviePath+G(h.options.moviePath)+'"/>         <param name="allowScriptAccess" value="'+h.options.allowScriptAccess+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+j+'"/>         <embed src="'+h.options.moviePath+G(h.options.moviePath)+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="always"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+j+'"           scale="exactfit">         </embed>       </object>';g=document.createElement("div"),g.id="global-zeroclipboard-html-bridge",g.setAttribute("class","global-zeroclipboard-container"),g.setAttribute("data-clipboard-ready",!1),g.style.position="absolute",g.style.left="-9999px",g.style.top="-9999px",g.style.width="15px",g.style.height="15px",g.style.zIndex="9999",g.innerHTML=i,document.body.appendChild(g)}h.htmlBridge=g,h.flashBridge=document["global-zeroclipboard-flash-bridge"]||g.children[0].lastElementChild};B.prototype.resetBridge=function(){this.htmlBridge.style.left="-9999px",this.htmlBridge.style.top="-9999px",this.htmlBridge.removeAttribute("title"),this.htmlBridge.removeAttribute("data-clipboard-text"),J(A,this.options.activeClass),A=null,this.options.text=null},B.prototype.ready=function(){var b=this.htmlBridge.getAttribute("data-clipboard-ready");return b==="true"||b===!0},B.prototype.reposition=function(){if(!A){return !1}var b=H(A);this.htmlBridge.style.top=b.top+"px",this.htmlBridge.style.left=b.left+"px",this.htmlBridge.style.width=b.width+"px",this.htmlBridge.style.height=b.height+"px",this.htmlBridge.style.zIndex=b.zIndex+1,this.setSize(b.width,b.height)},B.dispatch=function(d,c){B.prototype._singleton.receiveEvent(d,c)},B.prototype.on=function(f,e){var h=f.toString().split(/\s/g);for(var g=0;g<h.length;g++){f=h[g].toLowerCase().replace(/^on/,""),this.handlers[f]||(this.handlers[f]=e)}this.handlers.noflash&&!B.detectFlashSupport()&&this.receiveEvent("onNoFlash",null)},B.prototype.addEventListener=B.prototype.on,B.prototype.off=function(g,f){var j=g.toString().split(/\s/g);for(var i=0;i<j.length;i++){g=j[i].toLowerCase().replace(/^on/,"");for(var h in this.handlers){h===g&&this.handlers[h]===f&&delete this.handlers[h]}}},B.prototype.removeEventListener=B.prototype.off,B.prototype.receiveEvent=function(r,q){r=r.toString().toLowerCase().replace(/^on/,"");var p=A,o=!0;switch(r){case"load":if(q&&parseFloat(q.flashVersion.replace(",",".").replace(/[^0-9\.]/gi,""))<10){this.receiveEvent("onWrongFlash",{flashVersion:q.flashVersion});return}this.htmlBridge.setAttribute("data-clipboard-ready",!0);break;case"mouseover":K(p,this.options.hoverClass);break;case"mouseout":J(p,this.options.hoverClass),this.resetBridge();break;case"mousedown":K(p,this.options.activeClass);break;case"mouseup":J(p,this.options.activeClass);break;case"datarequested":var n=p.getAttribute("data-clipboard-target"),m=n?document.getElementById(n):null;if(m){var l=m.value||m.textContent||m.innerText;l&&this.setText(l)}else{var g=p.getAttribute("data-clipboard-text");g&&this.setText(g)}o=!1;break;case"complete":this.options.text=null}if(this.handlers[r]){var f=this.handlers[r];typeof f=="string"&&typeof window[f]=="function"&&(f=window[f]),typeof f=="function"&&C(f,p,this,q,o)}},B.prototype.glue=function(d){d=D(d);for(var c=0;c<d.length;c++){E(d[c],z)==-1&&(z.push(d[c]),M(d[c],"mouseover",N))}},B.prototype.unglue=function(e){e=D(e);for(var c=0;c<e.length;c++){L(e[c],"mouseover",N);var f=E(e[c],z);f!=-1&&z.splice(f,1)}},typeof define=="function"&&define.amd?define(["require","exports","module"],function(e,d,f){return x=f&&f.id||null,B}):typeof module!="undefined"&&module?(w=module.id||null,module.exports=B):window.ZeroClipboard=B})();