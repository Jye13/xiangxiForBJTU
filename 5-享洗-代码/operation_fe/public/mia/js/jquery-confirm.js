(function(b){b.fn.confirm=function(a){return this.each(function(){var j;var h=true;var l=b(this);var i={msg:"确定要删除么?",onOK:function(c){h=false;h=true},checkConditions:function(){return true}};if(typeof a!="object"){j=b.extend({},i)}else{j=b.extend({},i,a)}b(this).click(function(c){if(h){if(j.checkConditions.call()){if(j.before!=undefined){j.before(c);if(j.before(c)!=false){k(c)}}else{k(c)}c.preventDefault();c.stopPropagation()}}});var k=function(d){var e=b(d.target);var f="";b("#confirmDiv").unbind().remove();f+='<p class="msg">'+j.msg+"</p>";f+='<span class="arrow"><i class="a1">◆</i><i class="a2">◆</i></span><p class="ops"><span class="ok">确定</span> | <span class="cancel">取消</span></p>';b('<div id="confirmDiv" />').append(f).css({left:e.offset().left+e.width()/2-27,top:e.offset().top+25,display:"none",position:"absolute"}).appendTo("body").fadeIn();var c=setTimeout(function(){b("#confirmDiv").unbind().remove()},3000);b("#confirmDiv").hover(function(g){clearTimeout(c)},function(g){c=setTimeout(function(n){b("#confirmDiv").unbind().remove()},3000)});b("#confirmDiv .ok").click(function(){b("#confirmDiv").remove();j.onOK(d)});b("#confirmDiv .cancel").click(function(g){b("#confirmDiv").remove();if(j.onCancel!=undefined){j.onCancel(g)}})}})}})(jQuery);